banco_questoes = [{'titulo': 'Qual o resultado da operação 57 + 32?',
          'nivel': 'facil',
          'opcoes': {'A': '-19', 'B': '85', 'C': '89', 'D': '99'},
          'correta': 'C'},

         {'titulo': 'Qual a capital do Brasil?',
          'nivel': 'facil',
          'opcoes': {'A': 'Brasília', 'B': 'Rio de janeiro', 'C': 'São Paulo', 'D': 'Osasco'},
          'correta': 'A'},

         {'titulo': 'Quando é o feriado da Independência do Brasil?',
          'nivel': 'facil',
          'opcoes': {'A': '21 de Abril', 'B': '12 de Outubro', 'C': '07 de Setembro', 'D': '15 de Novembro'},
          'correta': 'C'},

         {'titulo': '_________ é um conjunto de particularidades que caracterizam um grupo de pessoas, uma família ou uma sociedade. É formada por princípios morais, hábitos, costumes, histórias, manifestações religiosas, entre outros. Qual palavra melhor completa o início da frase?',
          'nivel': 'facil',
          'opcoes': {'A': 'Missão', 'B': 'Cultura', 'C': 'Curso superior', 'D': 'Culinária'},
          'correta': 'B'},

         {'titulo': 'Qual destes termos menos tem relação com o fenômeno da globalização?',
          'nivel': 'facil',
          'opcoes': {'A': 'Aculturação', 'B': 'Neoliberalismo', 'C': 'União Europeia', 'D': 'Caldeirão do Huck'},
          'correta': 'D'},

         {'titulo': 'Qual o feriado do aniversário da cidade de São Paulo?',
          'nivel': 'facil',
          'opcoes': {'A': '25 de Janeiro', 'B': '24 de Março', 'C': '9 de Julho', 'D': '12 de Novembro'},
          'correta': 'A'},

         {'titulo': 'Qual destas não é uma fruta?',
          'nivel': 'facil',
          'opcoes': {'A': 'Laranja', 'B': 'Maça', 'C': 'Tomate', 'D': 'Abacate'},
          'correta': 'B'},

         {'titulo': 'Em qual ano o TikTok atingiu 1 bilhão de usuários?',
          'nivel': 'facil',
          'opcoes': {'A': '2019', 'B': '2021', 'C': '2015', 'D': '2018'},
          'correta': 'B'},
         
         {'titulo': 'Qual destes não é um app com foco em streaming de vídeo?',
          'nivel': 'facil',
          'opcoes': {'A': 'Netflix', 'B': 'Disney Plus', 'C': 'TIDAL', 'D': 'HBO Max'},
          'correta': 'C'},

         {'titulo': 'Qual destes parques não se localiza em São Paulo?!',
          'nivel': 'facil',
          'opcoes': {'A': 'Ibirapuera', 'B': 'Parque do Carmo', 'C': 'Parque Villa Lobos', 'D': 'Morro da Urca'},
          'correta': 'D'},

         {'titulo': 'Qual destas não é uma linguagem de programação?',
          'nivel': 'facil',
          'opcoes': {'A': 'Miratdes', 'B': 'Python', 'C': 'Lua', 'D': 'C++'},
          'correta': 'A'},

         {'titulo': 'Dentre os listados, qual destes esportes é menos praticado no Brasil?',
          'nivel': 'facil',
          'opcoes': {'A': 'Natação', 'B': 'Vôlei', 'C': 'Ski Cross Country', 'D': 'Futebol'},
          'correta': 'C'},
         
         {'titulo': 'Qual o resultado da operação 5 + 2 * 3?',
          'nivel': 'medio',
          'opcoes': {'A': '21', 'B': '11', 'C': '30', 'D': '10'},
          'correta': 'B'},

         {'titulo': 'Qual destas é uma pseudociência que estuda os corpos celestes e as prováveis relações que possuem com a vida das pessoas e os acontecimentos na Terra?',
          'nivel': 'medio',
          'opcoes': {'A': 'Astronomia', 'B': 'Física quântica', 'C': 'Astrologia', 'D': 'Computação'},
          'correta': 'C'},

         {'titulo': 'Qual destas não foi considerada em 2007 uma das sete maravilhas do mundo moderno?',
          'nivel': 'medio',
          'opcoes': {'A': 'Muralha da China', 'B': 'Machu Picchu', 'C': 'Cristo Redentor', 'D': 'Torre Eiffel'},
          'correta': 'D'},

         {'titulo': 'Qual destas pessoas conduziu importantes estudos sobre radioatividade, sendo ganhadora de dois prêmios Nobel?',
          'nivel': 'medio',
          'opcoes': {'A': 'Marie Curie', 'B': 'Paul Erdős', 'C': 'Clive W.J. Granger', 'D': 'Maria Ressa'},
          'correta': 'A'},

         {'titulo': 'Quem é considerada a primeira pessoa programadora do mundo?!',
          'nivel': 'medio',
          'opcoes': {'A': 'Marie Curie', 'B': 'Alan Turing', 'C': 'Ada Lovelace', 'D': 'Edsger Dijkstra'},
          'correta': 'C'},

         {'titulo': 'Qual destes números é primo?',
          'nivel': 'medio',
          'opcoes': {'A': '259', 'B': '85', 'C': '49', 'D': '19'},
          'correta': 'D'},

         {'titulo': 'Na Conjectura de _______, escolhendo-se um número natural inicial n, onde n > 0, os seguintes critérios serão obedecidos: Se n for par o seu sucessor será a metade e se n for ímpar o seu sucessor será o triplo mais um, gerando então um novo número. Qual o nome da conjectura?',
          'nivel': 'medio',
          'opcoes': {'A': 'Collatz', 'B': 'Goldbach', 'C': 'Poincaré', 'D': 'Hodge'},
          'correta': 'A'},

         {'titulo': 'Como faço para chamar o SAMU?',
          'nivel': 'medio',
          'opcoes': {'A': 'Ligue 101', 'B': 'Ligue 192', 'C': 'Ligue 109', 'D': 'Ligue 122'},
          'correta': 'B'},

         {'titulo': 'Qual a segunda pessoa mais seguida no Instagram?',
          'nivel': 'medio',
          'opcoes': {'A': 'Cristiano Ronaldo', 'B': 'Dwayne Johnson', 'C': 'Kim Kardashian', 'D': 'Kylie Jenner'},
          'correta': 'D'},

         {'titulo': 'Qual a pessoa mais seguida no Instagram?',
          'nivel': 'medio',
          'opcoes': {'A': 'Cristiano Ronaldo', 'B': 'Dwayne Johnson', 'C': 'Kim Kardashian', 'D': 'Lionel Messi'},
          'correta': 'A'},

         {'titulo': 'A reprodução dos seres vivos é um processo biológico através do qual os organismos geram descendência. Qual desta não é uma forma de reprodução assexuada?',
          'nivel': 'dificil',
          'opcoes': {'A': 'Autogamia', 'B': 'Esporulação', 'C': 'Partenogênese', 'D': 'Divisão binária'},
          'correta': 'A'},

         {'titulo': 'Qual o resultado da operação 5 + 2 * 3 ^ 2, onde ^ representa potenciação?',
          'nivel': 'dificil',
          'opcoes': {'A': '441', 'B': '86', 'C': 'Nenhuma das outras respostas', 'D': '23'},
          'correta': 'D'},

         {'titulo': 'Quem é Oxóssi?!',
          'nivel': 'dificil',
          'opcoes': {'A': 'Rede de mercados', 'B': 'Tipo de poema Dissílabo', 'C': 'Divindade das religiões africanas', 'D': 'Trapper brasileiro'},
          'correta': 'C'},

         {'titulo': 'Qual a altura do Cristo Redentor?',
          'nivel': 'dificil',
          'opcoes': {'A': 'entre 0 e 20 metros', 'B': 'Entre 21 e 40 metros', 'C': 'Entre 41 e 60 metros', 'D': 'Mais que 60 metros'},
          'correta': 'B'},

         {'titulo': 'Em que ano faleceu Charles Babbage?',
          'nivel': 'dificil',
          'opcoes': {'A': '2022', 'B': '1791', 'C': '1935', 'D': '1871'},
          'correta': 'A'},

         {'titulo': 'Einstein foi Nobel de física em qual ano?',
          'nivel': 'dificil',
          'opcoes': {'A': '1906', 'B': '1905', 'C': '1920', 'D': '1921'},
          'correta': 'D'},

         {'titulo': 'Qual o número atômico do nitrogênio?',
          'nivel': 'dificil',
          'opcoes': {'A': '9', 'B': '7', 'C': '6', 'D': '8'},
          'correta': 'B'},

         {'titulo': 'Qual o ponto de fusão do nitrogênio?',
          'nivel': 'dificil',
          'opcoes': {'A': '120º C', 'B': '15º C', 'C': '-210º C', 'D': '-180º C'},
          'correta': 'C'},
         
         {'titulo': 'Quantos gols Pelé fez oficialmente?',
          'nivel': 'dificil',
          'opcoes': {'A': '815', 'B': '762', 'C': '1100', 'D': '1057'},
          'correta': 'B'},

         {'titulo': 'O que é Necrose?',
          'nivel': 'dificil',
          'opcoes': {'A': 'Uma banda de Rock', 'B': 'Uma marca de luxo', 'C': 'Cidade Francesa', 'D': 'Morte de tecido orgânico'},
          'correta': 'D'}
        ]
#QUESTAO 1

def transforma_base(banco_questoes):
    dicio_retorno = {}

    for dicio in banco_questoes:
       
        nivel = dicio['nivel']
        
        if nivel not in dicio_retorno:

            dicio_retorno[nivel] = [dicio]
        else:
            dicio_retorno[nivel].append(dicio)
    
    return dicio_retorno

# QUESTAO 2
def valida_questao(questao):
    retorno = {}

    #verificar a quantidade de chaves
    qnt_chaves = len(questao.keys())

    if qnt_chaves != 4:
        retorno['outro'] = 'numero_chaves_invalido'
    

    #caso para o titulo inexistente
    if 'titulo' not in questao:
        retorno['titulo'] = 'nao_encontrado'
    
    else:
        #caso titulo existente, porem vazio
        if questao['titulo'].strip() == '':
        
            retorno['titulo'] = 'vazio'

    #verificacao do nivel
    if 'nivel' in questao:
        if questao['nivel'] != 'facil' and questao['nivel'] != 'medio' and questao['nivel'] != 'dificil':
            retorno['nivel'] = 'valor_errado'
        
    else:
        retorno['nivel'] = 'nao_encontrado'
    
    #verificacao de opções
    if 'opcoes' in questao:
        qnt_opcoes = len(questao['opcoes'].keys())

        if qnt_opcoes != 4: 
            retorno['opcoes'] = 'tamanho_invalido'

        #verificando se há 4 respostas
        elif 'A' not in questao['opcoes'] or 'B' not in questao['opcoes'] or 'C' not in questao['opcoes'] or 'D' not in questao['opcoes']:
            retorno['opcoes'] = 'chave_invalida_ou_nao_encontrada'
           

        else:
             #verificando se há resp vazias
            for alternativa, respostas in questao['opcoes'].items():
                if respostas.strip() == '':
                    questao['opcoes'][alternativa] = 'vazia'

                    if 'opcoes' not in retorno:
                        retorno['opcoes'] = {alternativa: questao['opcoes'][alternativa]}
                    
                    else:
                        retorno['opcoes'][alternativa] = questao['opcoes'][alternativa]

    else:
        retorno['opcoes'] = 'nao_encontrado'
    
    #verificando o gabarito
    if 'correta' in questao:
        if questao['correta'] != 'A' and questao['correta'] != 'B' and questao['correta'] != 'C' and questao['correta'] != 'D':
           retorno['correta'] = 'valor_errado'
    
    else:
        retorno['correta'] = 'nao_encontrado'
    
    return retorno

#QUESTAO 3

def valida_questoes(lista_questoes):
    lista_retorno = []
    

    for questao in lista_questoes:
        retorno = {}
        #verificar a quantidade de chaves
        qnt_chaves = len(questao.keys())

        if qnt_chaves != 4:
            retorno['outro'] = 'numero_chaves_invalido'
        

        #caso para o titulo inexistente
        if 'titulo' not in questao:
            retorno['titulo'] = 'nao_encontrado'
        
        else:
            #caso titulo existente, porem vazio
            if questao['titulo'].strip() == '':
            
                retorno['titulo'] = 'vazio'

        #verificacao do nivel
        if 'nivel' in questao:
            if questao['nivel'] != 'facil' and questao['nivel'] != 'medio' and questao['nivel'] != 'dificil':
                retorno['nivel'] = 'valor_errado'
            
        else:
            retorno['nivel'] = 'nao_encontrado'
        
        #verificacao de opções
        if 'opcoes' in questao:
            qnt_opcoes = len(questao['opcoes'].keys())

            if qnt_opcoes != 4: 
                retorno['opcoes'] = 'tamanho_invalido'

            #verificando se há 4 respostas
            elif 'A' not in questao['opcoes'] or 'B' not in questao['opcoes'] or 'C' not in questao['opcoes'] or 'D' not in questao['opcoes']:
                retorno['opcoes'] = 'chave_invalida_ou_nao_encontrada'
            

            else:
                #verificando se há resp vazias
                for alternativa, respostas in questao['opcoes'].items():
                    if respostas.strip() == '':
                        questao['opcoes'][alternativa] = 'vazia'

                        if 'opcoes' not in retorno:
                            retorno['opcoes'] = {alternativa: questao['opcoes'][alternativa]}
                        
                        else:
                            retorno['opcoes'][alternativa] = questao['opcoes'][alternativa]

        else:
            retorno['opcoes'] = 'nao_encontrado'
        
        #verificando o gabarito
        if 'correta' in questao:
            if questao['correta'] != 'A' and questao['correta'] != 'B' and questao['correta'] != 'C' and questao['correta'] != 'D':
                retorno['correta'] = 'valor_errado'
        
        else:
            retorno['correta'] = 'nao_encontrado'
        
        lista_retorno.append(retorno)
    
    return lista_retorno

#QUESTAO 4
import random
def sorteia_questao(questoes, nivel):

    #criando uma lista com o nivel pedido
    lista_questoes_por_dificuldade = []

    for dificuldade, lista_questao in questoes.items():
        for questao in lista_questao:
            if dificuldade == nivel:

                lista_questoes_por_dificuldade.append(questao)

    #sorteando um indice da lista
    indice_sorteado= random.randint(0, len(lista_questoes_por_dificuldade)-1)
    questao_sorteada = lista_questoes_por_dificuldade[indice_sorteado]

    return questao_sorteada

#QUESTÃO 5
import random as rd
import random as rd
def sorteia_questao_inedita(questoes,nivel,sorteadas):
    novas_sorteadas = sorteadas
    lista_nivel = []
    for dif, questao in questoes.items():
        if dif == nivel:
            for elemento in questao:
                lista_nivel.append(elemento)
    sorteada = rd.choice(lista_nivel)
    if sorteada not in novas_sorteadas:
        novas_sorteadas.append(sorteada)
    return sorteada

#Questao 6
questao = {
  "titulo": 'Qual o resultado da operação 57 + 32?',
  "nivel": "facil",
  "opcoes": {
    "A": "-19",
    "B": "85",
    "C": "89",
    "D": "99"
  },
  "correta": "D"
}
id = 17
def questao_para_texto(questao, id):
    # Montar a string formatada da questão
    final = f"----------------------------------------\nQUESTAO {id}\n\n{questao['titulo']}\n\nRESPOSTAS:\n"
    
    # Obter a lista de opções e a opção correta
    opcoes = questao['opcoes']
    # Adicionar as opções formatadas à string
    for letra, opcao in opcoes.items():
        final += f"{letra}: {opcao}\n"
    # Retornar a string formatada
    return final

#Questao 7
import random as rd
questao = {
  "titulo": "Qual destes parques não se localiza em São Paulo?!",
  "nivel": "facil",
  "opcoes": {
    "A": "Ibirapuera",
    "B": "Parque do Carmo",
    "C": "Parque Villa Lobos",
    "D": "Morro da Urca"
  },
  "correta": "D"
}
import random as rd

def gera_ajuda(questao):
    l = []
    opcoes = questao['opcoes']

    # Percorre todas as opções do dicionário 'opcoes'
    for k, v in opcoes.items():
        if k != questao['correta']:
            l.append(v)  # Adiciona as opções erradas à lista 'l'

    qtd = rd.randint(1, 2)  # Gera um número aleatório entre 1 e 2

    if qtd == 1:
        x = rd.choice(l)  # Escolhe aleatoriamente uma opção errada da lista 'l'
        return f"DICA:\nOpções certamente erradas: {x}"
    elif qtd == 2:
        x = rd.choice(l)  # Escolhe aleatoriamente uma opção errada da lista 'l'
        l.remove(x)  # Remove a opção escolhida para não ser selecionada novamente
        y = rd.choice(l)  # Escolhe outra opção errada da lista 'l'
        return f"DICA:\nOpções certamente erradas: {x} | {y}"

from colorama import Fore

def junta_game(banco_questoes):
    dinheiro = 1000

    nome_jogador = input(Fore.BLUE + 'Informe seu nome:')
    questoes_validadas = valida_questoes(banco_questoes)
    for erros in questoes_validadas:
        if len(erros) > 0:
            print(f'Tem erro. Erro: {erros}')
            exit(0)
    questoes = transforma_base(banco_questoes)
    
    sorteadas = []
    jogando = True
    a = 1
    pulou = 0
    acertou = 'Você acertou! Seu prêmio atual é de R$'
    opcoes = ['A','B','C','D']
    valores =[1000,5000,10000,30000,50000,100000,300000,500000,1000000]
    niveis = {1:'facil', 2:'facil',3:'facil',4:'medio', 5:'medio', 6:'medio', 7:'dificil', 8:'dificil', 9:'dificil'}
    ajudou = 0

    print(f'Ok {str(nome_jogador.upper())}, você tem direito a pular 3 vezes e 2 ajudas!\nAs opções de resposta são "A", "B", "C", "D", "ajuda", "pula" e "parar"! ')
    while jogando == True: 

        if jogando == False:
            print('jogo acabou!')
            break

        while a < len(valores):
            ajudou_sequencia = False
            if jogando == False:
                print('jogo acabou!')
                break

            if a == 1:
                print(f'O jogo já vai começar! Lá vem a questão n°{a}!')

            if a == 1 or a == 4 or a == 7:
                print(f'Vamos começar com questões do nível {niveis[a]}!')
                questao_sorteada = sorteia_questao_inedita(questoes,niveis[a],sorteadas)
                sorteadas.append(questao_sorteada)
                print(questao_para_texto(questao_sorteada,a))
                
                resposta = input('Qual a sua resposta?! ').upper()
            
            else:
                questao_sorteada = sorteia_questao_inedita(questoes,niveis[a], sorteadas)
                sorteadas.append(questao_sorteada)
                print(questao_para_texto(questao_sorteada,a))
               
                resposta = input('Qual a sua resposta?! ').upper()
            
            resp_correta = questao_sorteada['correta']

            
            while resposta != resp_correta:

                
                if resposta == 'ajuda'.upper():
                    
                    if ajudou < 2 and ajudou_sequencia == False:
                        print(gera_ajuda(questao_sorteada))

                        resposta = input('Qual a sua resposta?!').upper()
                        ajudou_sequencia = True

                        ajudou += 1

                    else:
                        print('Não deu!, Você não tem mais direito a ajudas')
                        resposta = input('Qual a sua resposta?!').upper()
                
                elif resposta == 'pula'.upper():
                    ajudou_sequencia = False
                    
                    if pulou < 3:
                        questao_sorteada = sorteia_questao_inedita(questoes,niveis[a],sorteadas)
                        resp_correta = questao_sorteada['correta']
                        sorteadas.append(questao_sorteada)
                        print(questao_para_texto(questao_sorteada,a))
                        
                        resposta = input('Qual a sua resposta?! ').upper()
                    
                        pulou += 1

                    else:
                        print('Não deu!, Você não tem mais direito a pulos')
                        resposta = input('Qual a sua resposta?! ').upper()
                
                elif resposta not in opcoes:
                    ajudou_sequencia == False
                    print('Opção inválida!\nAs opções de resposta são "A", "B", "C", "D", "ajuda", "pula" e "parar"!')
                    resposta = input('Qual a sua resposta?! ').upper()
            
                elif resposta != resp_correta or resposta == 'sair':
                    ajudou_sequencia = False
                    
                    jogando = False
                    break
        
        
            if resposta == resp_correta:
                ajudou_sequencia = False
                dinheiro = valores[a]

                print(acertou + str(dinheiro))
                a += 1
            
            if dinheiro == 1000000:
                print('Parabéns pateta')

        
(junta_game(banco_questoes))











